<!DOCTYPE html>
<html>
<body>


<div style="display:flex; flex-direction: column;font-size:20px;">
    <div >

    <label>User ID</label>
<input type='text' id='uid'>
    </div>

    <div>
 <label>First Input</label>
<input type='text' id='fname'>
 </div>

<div>
<label>Last Name</label>
<input type='text' id='lname'>
</div>

<div>
    <label for="DOB">Birthday:</label>
    <input type="date" id="birthday" name="DOB">
</div>
<div style="color:green" id="birthdayContainer">
</div>
<div>
    <p id="container2" style="color:blueviolet;font-size: 18px;"></p>

</div>

<div style='margin-top:20px;'>
    <button  style='height:40px;width:90px; font-size:20px;' id='acceptBtn'>accept</button>


</div>

<script>
      var lastName=document.getElementById('lname');

var firstName=document.getElementById('fname');
    var container=document.getElementById('birthdayContainer')
 var container18=document.getElementById('container2');
 
    var dateEl = document.getElementById("birthday");
//console.log(new Date().toISOString().split('T')[0])
  var TextArr=[];
  var errorArr=[];
dateEl.setAttribute('max',new Date().toISOString().split('T')[0])

    const uidEl=document.getElementById('uid')
  

    document.getElementById('acceptBtn').addEventListener('click',checkUserInput)
function checkUserInput(){

     if(firstName.value!==""&&lastName.value!==""&&uidEl.value!==""&&dateEl.value!=="")
{

let valueEl=uid.value.split(" ").join("")
function containsNumbers(valueEl) {
console.log(valueEl)
  return /[0-9]/.test(valueEl);
}
//console.log(checkLength(valueEl))
//console.log(checkUpperFun(valueEl)===true)

//console.log(checkLower(valueEl))
//console.log(containsNumbers(valueEl))

if(checkLength(valueEl)===true &&checkUpperFun(valueEl)===true &&checkLower(valueEl) && containsNumbers(valueEl) ){
window.alert(" ✅✅ ✅  User ID is contain Upper case,lower Case,Numbers and length between 8-12 and its been VERIFIED !!")
uidEl.value=""
}else{
window.alert('❌ ❌❌ Invalid UserID')
uidEl.value=""

}
dateDiff()

      }else{

if(firstName.value==""){
    errorArr.push("First Name")
}if(lastName.value==""){
    errorArr.push("Last Name")

}if(uidEl.value==""){
    errorArr.push("UserID")

}if(dateEl.value==""){
    errorArr.push("Date")

//&&uidEl.value!==""&&dateEl.value!=="")
    }
    console.log(errorArr)
const errorMsg=errorArr.toString().replace(",,",", ");
window.alert(`${errorMsg} Is/are Invalid `)
errorArr=[]
location.reload()
}
    }
   


function checkLower(valueEl1){
    for(var j=0;j<valueEl1.length;j++){

if(isNaN(valueEl1[j])){
   if(valueEl1[j]===valueEl1[j].toLowerCase()){
return true   

}
}

}};




    const checkUpperFun=function(valueEl1){
        var valueEl3=valueEl1

        for(var j=0;j<valueEl1.length;j++){

            if(isNaN(valueEl1[j])){
               if(valueEl1[j]===valueEl1[j].toUpperCase()){
return true;    

}

      }
}
};

function checkLength(text){
for(var i=0;i<text.length;i++){
   if(text.length>=8 && text.length<=12){
    return true
   }else{
    return "length is less than 8 or greater than 12"
   }

}
}



function dateDiff(){

    var dateValue=dateEl.value;


    console.log('calender',typeof(dateValue))

   const TodayDate=new Date().toLocaleDateString()

   const YEAR = 365, MONTH = 30, WEEK = 7;

   
   var diff =  Math.floor(
    (
        Date.parse(
          TodayDate
    ) - Date.parse(
            dateValue.replace(/-/,'\/')
    )               
    ) / 86400000);
   console.log('diff',diff)
   
    var remain=diff%YEAR;
    var yearNo=Math.floor(diff/YEAR);
    console.log(yearNo,remain)

   const monNo=Math.floor( remain/MONTH);
   const dayNo=Math.floor( remain%MONTH)
   console.log(container)
 if(yearNo>=1){
TextArr.push(`${yearNo} Years ,`)
 }  if(monNo>=1){
    TextArr.push(`${monNo} Moths,`)

 }

 TextArr.push(`${dayNo} Days.`)
 const arratToStr=TextArr.toString()
 const textToShow=arratToStr.replace(",,"," ,AND, ")


container.innerHTML=`${firstName.value} ${lastName.value}: you have been breathing for  :${textToShow}`;
console.log(yearNo,'year number',container18)
if(yearNo>=18){
container18.textContent='Your age is accepted to get the Class'
TextArr=[]

}else{
    container18.textContent='You are probably not old enough to take this class!';
    TextArr=[]

}

   
}

    // put your JavaScript code to read HTML inputs
    // and validate inputs here using if statements
    // and document.getElementById().innerHTML to display results
    // write your JS functions here
    // write your JS Loop For here to print the Xs
    // use something like document.write(str.padStart(i,"x") + "<br>");
        

</script>

</body>
</html>
 